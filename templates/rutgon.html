<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Nghiện Shopping</title>
     <link rel="icon" href="..\static\image\shopping-cart.png">
     <link rel="stylesheet" href="../static/style.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>



     <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
          integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
          crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
          integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
          crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
          integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
          crossorigin="anonymous"></script>
</head>

<body>
     <header>
          <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
               <div class="container-fluid">
                    <!-- Logo (bên trái) -->
                    <a class="navbar-brand" href="#" id="logo">
                         <i class="fa fa-shopping-cart" aria-hidden="true"></i> Nghiện Shopping
                    </a>
                    <!-- Toggler -->
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
                         <span class="navbar-toggler-icon"></span>
                    </button>
                    <!-- Navbar Links (bên phải) -->
                    <div class="collapse navbar-collapse" id="mynavbar">
                         <ul class="navbar-nav ms-auto"> <!-- Thêm lớp ms-auto để đẩy toàn bộ menu sang phải -->
                              <li class="nav-item">
                                   <a class="nav-link" href="/flashsale">Flash Sale</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="/vouchers">Vouchers</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="/tracuu">Tra cứu</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="/rutgon">Rút gọn</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="/tracks">Check Voucher</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="/livexu">Live xu</a>
                              </li>
                              <!-- <li class="nav-item dropdown">
                                                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Xem
                                                                 thêm</a>
                                                            <ul class="dropdown-menu">
                                                                 <li><a class="dropdown-item" href="#">Link</a></li>
                                                                 <li><a class="dropdown-item" href="#">Another link</a></li>
                                                                 <li><a class="dropdown-item" href="#">A third link</a></li>
                                                            </ul>
                                                       </li> -->
                         </ul>
                    </div>
               </div>
          </nav>
     
     
     </header>
     <main>
          <div id="content" class="container">
               <h1 style="font-weight: bold;">Rút gọn link</h1>
               <form method="POST">
                    <textarea name="rutgon" rows="5"
                         placeholder="Nhập link cần rút gọn, có thể chứa cả text..."></textarea>
                    <div class="btn-container">
                         <button type="button" class="btn" id="btn-paste">Dán</button>
                         <button type="submit" class="btn" id="btn-check">Xử lý</button>
                    </div>
               </form>
               <br>
               <h3 style="font-weight: bold;">Kết quả</h3>
               <div class="info-container">
                    {% if result %}
                    <textarea name="result" id="box-area" class="output-box" rows="10" readonly>{{result}}</textarea>
                    <div class="btn-container">
                         <button type="button" class="btn" id="btn-copy" style="width: 100%">Copy</button>
                    </div>
                    {% endif %}
               </div>
          </div>
     </main>
     <footer></footer>
     <script src="main.js"></script>
     <script>
          document.addEventListener("DOMContentLoaded", () => {
               const pasteButton = document.getElementById("btn-paste");
               const textarea = document.getElementById("box-area");
               const copyButtons = document.querySelectorAll(".copy-btn");
               const listButtons = document.querySelectorAll(".list-btn");

               // Xử lý nút "Dán"
               pasteButton.addEventListener("click", async () => {
                    try {
                         // Lấy nội dung từ clipboard
                         const text = await navigator.clipboard.readText();
                         if (text) {
                              textarea.value = text; // Dán nội dung clipboard vào textarea
                         } else {
                              alert("Không có nội dung trong clipboard!");
                         }
                    } catch (err) {
                         alert("Trình duyệt không hỗ trợ dán từ clipboard hoặc chưa cấp quyền.");
                         console.error(err);
                    }
               });

               // Xử lý nút "Copy"
               document.getElementById('btn-copy').addEventListener('click', function () {
                    const textarea = document.querySelector('.output-box');
                    const content = textarea.value;

                    // Sử dụng Clipboard API
                    navigator.clipboard.writeText(content);
               });

          });
     </script>

</body>

</html>